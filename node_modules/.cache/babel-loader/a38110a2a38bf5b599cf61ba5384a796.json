{"ast":null,"code":"var _jsxFileName = \"/Users/pedrotrigomiranda/Documents/github/product-hunt-solidsail-course/Hunt/src/pages/Forgot.js\";\nimport React from \"react\";\nimport { IonContent, IonPage, IonLabel, IonInput, IonItem, IonRow, IonCol, IonButton, IonLoading } from \"@ionic/react\";\nimport firebase from \"../firebase\";\nimport { toast } from \"../utils/toast\";\nimport useFormValidation from \"../hooks/useFormValidation\";\nimport validatePasswordReset from \"../components/Auth/validatePasswordReset\";\nimport NavHeader from \"../components/Header/NavHeader\";\nconst INITIAL_STATE = {\n  email: \"\"\n};\n\nconst Forgot = props => {\n  const {\n    handleSubmit,\n    handleChange,\n    values,\n    isSubmitting\n  } = useFormValidation(INITIAL_STATE, validatePasswordReset, handleResetPassword);\n  const [busy, setBusy] = React.useState(false);\n\n  async function handleResetPassword() {\n    setBusy(true);\n    const {\n      email\n    } = values;\n\n    try {\n      await firebase.resetPassword(email);\n      toast(\"Check your email to reset your password.\");\n      props.history.push(\"/login\");\n    } catch (err) {\n      console.error(\"Password Reset Error\", err);\n      toast(err.message);\n    }\n\n    setBusy(false);\n  }\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavHeader, {\n    title: \"Password Reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonLoading, {\n    message: \"Please wait...\",\n    isOpen: busy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    lines: \"full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"floating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(IonInput, {\n    name: \"email\",\n    value: values.email,\n    type: \"text\",\n    onIonChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    type: \"submit\",\n    color: \"primary\",\n    expand: \"block\",\n    onClick: handleSubmit,\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Get Reset Link\")))));\n};\n\nexport default Forgot;","map":{"version":3,"sources":["/Users/pedrotrigomiranda/Documents/github/product-hunt-solidsail-course/Hunt/src/pages/Forgot.js"],"names":["React","IonContent","IonPage","IonLabel","IonInput","IonItem","IonRow","IonCol","IonButton","IonLoading","firebase","toast","useFormValidation","validatePasswordReset","NavHeader","INITIAL_STATE","email","Forgot","props","handleSubmit","handleChange","values","isSubmitting","handleResetPassword","busy","setBusy","useState","resetPassword","history","push","err","console","error","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,UADF,EAEEC,OAFF,EAGEC,QAHF,EAIEC,QAJF,EAKEC,OALF,EAMEC,MANF,EAOEC,MAPF,EAQEC,SARF,EASEC,UATF,QAUO,cAVP;AAWA,OAAOC,QAAP,MAAqB,aAArB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,iBAAP,MAA8B,4BAA9B;AACA,OAAOC,qBAAP,MAAkC,0CAAlC;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,KAAK,EAAE;AADa,CAAtB;;AAIA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AACxB,QAAM;AACJC,IAAAA,YADI;AAEJC,IAAAA,YAFI;AAGJC,IAAAA,MAHI;AAIJC,IAAAA;AAJI,MAKFV,iBAAiB,CACnBG,aADmB,EAEnBF,qBAFmB,EAGnBU,mBAHmB,CALrB;AAWA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBzB,KAAK,CAAC0B,QAAN,CAAe,KAAf,CAAxB;;AAEA,iBAAeH,mBAAf,GAAqC;AACnCE,IAAAA,OAAO,CAAC,IAAD,CAAP;AACA,UAAM;AAAET,MAAAA;AAAF,QAAYK,MAAlB;;AACA,QAAI;AACF,YAAMX,QAAQ,CAACiB,aAAT,CAAuBX,KAAvB,CAAN;AACAL,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACAO,MAAAA,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACD,KAJD,CAIE,OAAOC,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAc,sBAAd,EAAsCF,GAAtC;AACAnB,MAAAA,KAAK,CAACmB,GAAG,CAACG,OAAL,CAAL;AACD;;AACDR,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD;;AAED,sBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAE,gBAArB;AAAuC,IAAA,MAAM,EAAED,IAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAC,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,KAAK,EAAEH,MAAM,CAACL,KAFhB;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,WAAW,EAAEI,YAJf;AAKE,IAAA,QAAQ,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAWE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,MAAM,EAAC,OAHT;AAIE,IAAA,OAAO,EAAED,YAJX;AAKE,IAAA,QAAQ,EAAEG,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,CAXF,CAHF,CADF;AA+BD,CA3DD;;AA6DA,eAAeL,MAAf","sourcesContent":["import React from \"react\";\nimport {\n  IonContent,\n  IonPage,\n  IonLabel,\n  IonInput,\n  IonItem,\n  IonRow,\n  IonCol,\n  IonButton,\n  IonLoading,\n} from \"@ionic/react\";\nimport firebase from \"../firebase\";\nimport { toast } from \"../utils/toast\";\nimport useFormValidation from \"../hooks/useFormValidation\";\nimport validatePasswordReset from \"../components/Auth/validatePasswordReset\";\nimport NavHeader from \"../components/Header/NavHeader\";\n\nconst INITIAL_STATE = {\n  email: \"\",\n};\n\nconst Forgot = (props) => {\n  const {\n    handleSubmit,\n    handleChange,\n    values,\n    isSubmitting,\n  } = useFormValidation(\n    INITIAL_STATE,\n    validatePasswordReset,\n    handleResetPassword\n  );\n\n  const [busy, setBusy] = React.useState(false);\n\n  async function handleResetPassword() {\n    setBusy(true);\n    const { email } = values;\n    try {\n      await firebase.resetPassword(email);\n      toast(\"Check your email to reset your password.\");\n      props.history.push(\"/login\");\n    } catch (err) {\n      console.error(\"Password Reset Error\", err);\n      toast(err.message);\n    }\n    setBusy(false);\n  }\n\n  return (\n    <IonPage>\n      <NavHeader title=\"Password Reset\" />\n      <IonLoading message={\"Please wait...\"} isOpen={busy} />\n      <IonContent>\n        <IonItem lines=\"full\">\n          <IonLabel position=\"floating\">Email</IonLabel>\n          <IonInput\n            name=\"email\"\n            value={values.email}\n            type=\"text\"\n            onIonChange={handleChange}\n            required\n          ></IonInput>\n        </IonItem>\n        <IonRow>\n          <IonCol>\n            <IonButton\n              type=\"submit\"\n              color=\"primary\"\n              expand=\"block\"\n              onClick={handleSubmit}\n              disabled={isSubmitting}\n            >\n              Get Reset Link\n            </IonButton>\n          </IonCol>\n        </IonRow>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Forgot;\n"]},"metadata":{},"sourceType":"module"}